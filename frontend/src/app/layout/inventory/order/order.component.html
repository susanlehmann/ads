<div *ngIf="number_order > 0">
<div class="_2jGgaE">
  <div>
    <div>
      <div>
        <div class="_3_Zd_x">
          <div class="_3mFAWf">
            <div class="_1XOh8M _1jFEEZ" placeholder="Search product or order" value="">
              <div class="H9L5q0">
                <input class="JOAm_M _1FszNF" placeholder="Search product or order" value="" (input)="filterItem(myInput.value)">
                <span class="_2FSeuB _240vE8 RCcMXQ _1bHTmd">
                  <i class="fa fa-search"></i>
                </span>
              </div>
            </div>
          </div>
          <div class="qNCe1U _1dzVLv"></div>
          <div class="_3T9g9r">
            <span class="_2IkdIq _26n0p2">
              <select class="_3b4Iwb">
                <option value="">Export</option>
                <option value="xlsx">Excel</option>
                <option value="csv">CSV</option>
              </select>
              <span class="_2FSeuB _240vE8 _2CXiYN _25R4LF _2hkIol">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 6">
                  <path d="M5.5 4.793L10.146.146a.5.5 0 1 1 .708.708l-5 5a.5.5 0 0 1-.708 0l-5-5A.5.5 0 1 1 .854.146L5.5 4.793z" fill-rule="nonzero"></path>
                </svg>
              </span>
            </span>
          </div>
          <button class="_1FszNF _3ttzJg _2DZ1oJ _26WQGn _311OLi">
            <span class="_2FSeuB _240vE8 _3uXBro RCcMXQ _3vTBXo _1w3FE_">
              <svg viewBox="0 0 18 16">
                <path d="M0 2h15" stroke-linecap="round"></path>
                <circle cx="4" cy="2" r="2"></circle>
                <path d="M0 8h15" stroke-linecap="round"></path>
                <circle cx="9" cy="8" r="2"></circle>
                <path d="M0 14h15" stroke-linecap="round"></path>
                <circle cx="4" cy="14" r="2"></circle>
              </svg>
            </span>Filters
          </button>
        </div>
        <div class="_1mW557 _1DHTqT table-responsive">
          <div class="_2hndFf">
            <div>
              <div class="nsuqUP">
                <table class="_3rpc36 table table-hover">
                  <thead>
                    <tr>
                      <th class="_3jHaBz _1hEJSa">
                        <div>Order No.</div>
                      </th>
                      <th class="_3jHaBz _1hEJSa">
                        <div>Created Date</div>
                      </th>
                      <th class="_3jHaBz _1hEJSa">
                        <div>Supplier</div>
                      </th>
                      <th class="_3jHaBz _1hEJSa">
                        <div>Status</div>
                      </th>
                      <th class="_3jHaBz _1hEJSa o5hxTP">
                        <div>Total Cost</div>
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="_1A0eEb _1zQ7jO" *ngFor="let order of listorder" (click)="editOrder(edit_order, order)">
                      <td class="N3OZB6 _1vLxYz">
                        <div >P {{ order.id }}</div>
                      </td>
                      <td class="N3OZB6 _1vLxYz">
                        <div>{{ order.updated_at | date: 'dd MMM yyyy'}}</div>
                      </td>
                      <td class="N3OZB6 _1vLxYz">
                        <div>{{ getNameSupplier(order.id_supplier) }}</div>
                      </td>
                      <td class="N3OZB6 _1vLxYz" >
                        <div>
                          <span class="_1p62pX _1QLX7x _3GjCeD _2-xB9j0 _2okolH" style="background-color: #F5A623;color: white;" *ngIf="order.status_order == 1 || order.status_order == 2" >ORDERED</span>
                          <span class="_1p62pX _1QLX7x _3GjCeD _2-xB9j0 _2okolH" style="background-color: rgb(35, 245, 123);color: white;" *ngIf="order.status_order == 3" >RECEIVED</span>
                          <span class="_1p62pX _1QLX7x _3GjCeD _2-xB9j0 _2okolH" style="background-color: rgb(245, 35, 35);color: white;" *ngIf="order.status_order == 0" >CANCELED</span>
                        </div>
                      </td>
                      <td class="N3OZB6 _1vLxYz">
                        <span class="_2V5qqW" >${{ order.total_price }}</span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <div class="wADsrH">
          <div class="_3Cd6wq">
            <ng-container *ngIf="number_order == 1; else elseTemplate">
                <div class="_3oGeTh">Displaying
                    <b class="_2P0kb0">{{number_order}}</b>orders
                  </div>
            </ng-container>
            <ng-template #elseTemplate>
                <div class="_3oGeTh">Displaying all
                    <b class="_2P0kb0">{{number_order}}</b>orders
                  </div>
            </ng-template>


          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="_1nM1bd" data-qa="loader-spinner-container">
  <div class="_2Nn7vB QZeBYP" data-qa="loader-spinner"></div>
</div>
<!-- <div class="rTWbSm">
  <button class="_2N1Wwk _1K8-3O _1hszOe _1Hbk3p _1jAoG_" (click)="openModal(content)" ngbTooltip="New Order" placement="left">
    <span class="_2FSeuB _240vE8 RCcMXQ">
      <i class="fa fa-plus fa-1-75x"></i>
    </span>
  </button>
</div> -->
<div class="row">
    <div id="inbox" class="product">
      <div class="fab btn-group show-on-hover dropup">
        <div data-toggle="tooltip" data-placement="left" title="Compose">
          <button type="button" class="btn btn-black btn-io" data-toggle="dropdown">
            <span class="fa-stack fa-1-75-x">
              <i class="fa fa-plus fa-stack-1x fa-inverse fab-primary"></i>
            </span>
          </button>
        </div>
        <ul class="dropdown-menu dropdown-menu-right" role="menu" (click)="openModal(content)">
          <li>
            <span>
              <i class="fa fa-archive"></i>
            </span>
            <div class="tooltip_group">New Order</div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<div *ngIf="number_order == 0" class="aa">
  <div class="text-center" style="margin-top: 30px;">
      <div class="dd"><span class="da"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M23 47H7c-1.7 0-3-1.3-3-3V13v-.2l2-7.9V3c0-1.7 1.3-3 3-3h12c1.7 0 3 1.3 3 3v1.9l2 7.9V44c0 1.7-1.3 3-3 3zM6 13.1V44c0 .6.4 1 1 1h16c.6 0 1-.4 1-1V13.1l-2-7.9V3c0-.6-.4-1-1-1H9c-.6 0-1 .4-1 1v2.2l-2 7.9z"></path><path d="M5 12h20v2H5zM7 4h16v2H7zM41 47H23v-2h18c.6 0 1-.4 1-1V32.2l-1.9-5.8c0-.1-.1-.2-.1-.3v-2c0-.6-.4-1-1-1H26v-2h13c1.7 0 3 1.3 3 3v1.8l1.9 5.8c0 .1.1.2.1.3v12c0 1.7-1.3 3-3 3z"></path><path d="M26 25h15v2H26zM26 31h17v2H26zM25 36H15c-.6 0-1-.4-1-1V20c0-.6.4-1 1-1h9v2h-8v13h9v2zM38 41h-9c-.6 0-1-.4-1-1v-4c0-.6.4-1 1-1h9c.6 0 1 .4 1 1v4c0 .6-.4 1-1 1zm-8-2h7v-2h-7v2z"></path></svg></span></div>
    <h3 class="text-capitalize p2">Manage Stock Orders</h3>
    <p class="p1">Send purchase orders directly to your suppliers <br>
      and effortlessly receive new stock deliveries</p>
    <div class="dv1" style="display: flex; flex-direction: row; flex-grow: 1;">
      <button class="btn btn-black cus" type="button" (click)="openModal(content)">NEW
            ORDER</button>
    </div>
  </div>
</div>
<ng-template #content let-modal>
<div class="box-desktop">
  <div class="modal-header">
    <h4 class="modal-title offset-sm-4" id="modal-basic-title">Select Supplier</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true" style="font-size:2em; margin-left:-50px;">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <ng-container *ngIf="check == 0; else elseTemplate">
        <div class="aa">
            <div class="text-center" style="margin-top: 30px;">
                <div class="dd" style="color: #67768C"><span class="da"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M23 47H7c-1.7 0-3-1.3-3-3V13v-.2l2-7.9V3c0-1.7 1.3-3 3-3h12c1.7 0 3 1.3 3 3v1.9l2 7.9V44c0 1.7-1.3 3-3 3zM6 13.1V44c0 .6.4 1 1 1h16c.6 0 1-.4 1-1V13.1l-2-7.9V3c0-.6-.4-1-1-1H9c-.6 0-1 .4-1 1v2.2l-2 7.9z"></path><path d="M5 12h20v2H5zM7 4h16v2H7zM41 47H23v-2h18c.6 0 1-.4 1-1V32.2l-1.9-5.8c0-.1-.1-.2-.1-.3v-2c0-.6-.4-1-1-1H26v-2h13c1.7 0 3 1.3 3 3v1.8l1.9 5.8c0 .1.1.2.1.3v12c0 1.7-1.3 3-3 3z"></path><path d="M26 25h15v2H26zM26 31h17v2H26zM25 36H15c-.6 0-1-.4-1-1V20c0-.6.4-1 1-1h9v2h-8v13h9v2zM38 41h-9c-.6 0-1-.4-1-1v-4c0-.6.4-1 1-1h9c.6 0 1 .4 1 1v4c0 .6-.4 1-1 1zm-8-2h7v-2h-7v2z"></path></svg></span></div>
              <h3 class="text-capitalize p2" style="color: #67768C;font-size:22px;">No Suppliers Found</h3>
              <p class="p1">Setup your suppliers before creating purchase orders.</p>
            </div>
          </div>
    </ng-container>
    <ng-template #elseTemplate>
        <div class="card-body">
            <div class="row" id="divSelectSupplier">
              <div class="col-12" style="margin-top:10px;color: #67768C;" id="titleSupplier">
                <label>Select a supplier to order product stock from</label>
              </div>
              <div class="col-12" id="divSupplier" *ngFor="let supplier of listsuppliers" >
                <div class="col-12 item-modal-wizard" (click)="openSModal(product,supplier)">
                  <div class="row">
                  <div class="col-6">
                    <div class="col-12">
                      <strong >{{ supplier.name_supplier }}</strong>
                    </div>
                  </div>
                  <div class="col-6 text-right">
                    <span><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path d="M6.187 16.9c-.25.253-.25.66 0 .91.248.253.652.253.9 0l7.285-7.355c.25-.25.25-.66 0-.91L7.088 2.19c-.25-.253-.652-.253-.9 0-.25.25-.25.658-.002.91L12.83 10l-6.643 6.9z"></path>
                    </svg></span>
                  </div>
                </div>
                </div>
              </div>
            </div>
          </div>
    </ng-template>
  </div>
</div>
<div class="box-mobile" style="height: -webkit-fill-available;">
  <div class="custommodal">
    <div class="custom1">
      <div class="title" style="flex-direction: column; flex-shrink: 1; flex-grow: 1;">
        <div class=" modal-header title1">
          <h4 class="titlecusom modal-title offset-sm-4">Select Supplier</h4>
          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')" style="font-size: 2.5rem;margin-top: 18px;">
            <span aria-hidden="true" class="bt">&times;</span>
          </button>
        </div>
        <div class="modal-body bodys" style="display: flex; flex-direction: column;">
          <div class="main-body" style="margin-left:10px;width: 100%;">
            <label class="labelname" style="color: #67768C;text-transform: none;font-size: 14px;">Select a supplier to order product stock from</label>
            <hr>
            <div class="inputs" *ngFor="let supplier of listsuppliers" style="border-bottom: 1px solid #676786;margin-top: 10px;">
              <div class="inputs1 btn" (click)="openSModal(product,supplier)">
                <strong class="pull-left">{{ supplier.name_supplier }}</strong>
                <div class="col-6 text-right pull-right" style="margin-top: -20px;">
                  <i class="fa fa-chevron-right"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</ng-template>
<ng-template #product let-modal>

    <div class="modal-header">
        <h4 class="modal-title offset-sm-4" id="modal-basic-title">Create Order</h4>
        <button type="button" class="close" aria-label="Close" (click)="removeitem()" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
          <div class="row" id="divOrder" style="">
              <div class="col-md-12 box-desktop">
                  <div class="col-md-9">
                      <div class="card">
                          <div class="card-body" id="addOrderDetail">
                            <h3 *ngIf="items.length ==0">You haven't added any product to your order yet.</h3>
                              <ng-container *ngIf="add == 0 && items.length !=0; else elseTemplate">
                                  <div class="col-md-12 table-responsive" id="divTableData">
                                      <table class="table table-hover" id="tableAddProduct">
                                          <thead>
                                              <tr>
                                                  <th style="text-align:left">PRODUCT</th>
                                                  <th style="text-align:left">ORDER QTY.</th>
                                                  <th style="text-align:left">SUPPLY PRICE</th>
                                                  <th style="text-align:left">TOTAL COST</th>
                                                  <th></th>
                                              </tr>
                                          </thead>
                                          <tbody>
                                              <tr *ngFor="let i of items">
                                                <td>{{i.name_product}}</td>
                                                <td><input type="number" name="qty" [(ngModel)]="i.quantity"  (change)="sum()" placeholder="0"></td>
                                                <td><input type="number" name="price" [(ngModel)]="i.supplyprice_product" (change)="sum()"></td>
                                                <td><span type="number" name="total">{{i.quantity * i.supplyprice_product || 0.00}}</span></td>
                                                <!-- <td>{{i.quantity * i.supplyprice_product}}</td> -->
                                                <td><button (click)="deleteProd(i)">x</button></td>
                                              </tr>
                                          </tbody>
                                      </table>
                                  </div>
                              </ng-container>
                              <ng-template #elseTemplate >
                                <div class="col-md-12 table-responsive" id="divTableData">
                                    <table class="table table-hover" id="tableAddProduct">
                                        <thead>
                                            <tr>
                                                <th style="text-align:left">PRODUCT</th>
                                                <th style="text-align:left">ORDER QTY.</th>
                                                <th style="text-align:left">SUPPLY PRICE</th>
                                                <th style="text-align:left">TOTAL COST</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let i of items">
                                              <td>{{i.name_product}}</td>
                                              <td><input type="number" name="qty" [(ngModel)]="i.quantity" (change)="sum()"></td>
                                              <td><input type="number" name="price" [(ngModel)]="i.supplyprice_product" (change)="sum()"></td>
                                              <td><span type="number" name="total">{{(i.quantity) * i.supplyprice_product || 0.00}}</span></td>
                                              <!-- <td>{{i.quantity * i.supplyprice_product}}</td> -->
                                              <td><button (click)="deleteProd(i)">x</button></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                              </ng-template>
                              <div class="col-md-12" style="margin-top:20px" >
                                  <div class="col-md-4">

                                  </div>
                                  <div class="col-md-4">
                                      <button type="button" class="btn btn-block btn-outline-primary" id="btnAddProduct" (click)="openProduct(category)"><i class="fa fa-plus"></i> Add Product</button>
                                  </div>
                                  <div class="col-md-4">

                                  </div>
                              </div>
                          </div>
                          <div class="card-body" id="viewOrderDetail" style="display: none;">
                              <div class="col-md-12" id="divOrderMaster">
                                  <div class="col-md-12"><h2 id="OrderStatus" style="text-align:center"></h2></div>
                                  <div class="col-md-12" style="text-align:center"><span id="OrderRemark"></span></div>
                                  <div class="col-md-12" style="margin-top:15px">
                                      <div class="col-md-6" style="display:flex; align-items:flex-end;justify-content:flex-end"><button type="button" id="btnEmailOrder" class="btn btn-block btn-outline-secondary" style="width:150px; font-weight:bold">EMAIL ORDER</button></div>
                                      <div class="col-md-6" style="display:flex; align-items:flex-start;justify-content:flex-start"><button type="button" id="btnDownloadPDFOrder" class="btn btn-block btn-outline-secondary" style="width:150px; font-weight:bold">DOWNLOAD PDF</button></div>
                                  </div>
                              </div>
                              <div class="col-md-12" id="divTableData" style="display: none;">
                                  <table class="table table-responsive-sm table-sm datatable no-footer" id="tableViewProduct" style="width:100%">
                                      <thead>
                                          <tr>
                                              <th style="text-align:left">PRODUCT</th>
                                              <th style="text-align:left">ORDER QTY.</th>
                                              <th style="text-align:left">RECEIVED QTY.</th>
                                              <th style="text-align:left">SUPPLY PRICE</th>
                                              <th style="text-align:left">TOTAL COST</th>
                                          </tr>
                                      </thead>
                                      <tbody></tbody>
                                  </table>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="col-md-3" style="text-align:left;">
                      <div class="col-md-12" style="padding:10px 10px 10px 10px; border:1px solid #c2cfd6">
                          <div class="col-md-12" >
                            <h5 id="SupplierName">{{ _supplier.name_supplier }}</h5>
                          </div>
                          <div class="col-md-12">
                              <h5>DELIVER TO</h5>
                          </div>
                          <div class="col-md-12">
                              <h6 id="LocationName">{{ _supplier.suburb_supplier}}</h6>
                          </div>
                          <div class="col-md-12">
                              <h6 id="StreetAddress">Default Address</h6>
                          </div>
                          <div class="col-md-12">
                              <h6 id="LCity">Default City</h6>
                              <hr>
                          </div>
                          <div class="col-md-12" style="display: -webkit-inline-box;">
                              <div class="col-md-5" style="display: inline;padding-left: 0;">Order Total:</div>
                              <input type="hidden" id="OrderID" value="0">
                              <ng-container *ngIf="orderTotal1 == undefined; else elseTemplate">
                                  <div class="col-md-7"><h5 style="text-align:right" id="TotalAmount">$0</h5></div>
                              </ng-container>
                              <ng-template #elseTemplate>
                                  <div class="col-md-7" *ngIf="items != 0"><h5 style="text-align:right" id="TotalAmount">${{orderTotal1}}</h5></div>
                              </ng-template>

                              <!--<div class="col-md-7"><h5 style="text-align:right" id="TotalAmount">{{orderTotal}}</h5></div>-->
                          </div>
                          <div class="col-md-12" style="margin-top:15px" id="divbtnCreateOrder">
                              <button type="button" id="btnCreateOrder" style="font-weight:bold" name="btnCreateOrder" class="btn btn-block btn-primary active" aria-pressed="true" (click)="create_oder(edit_order)">CREATE ORDER</button>
                          </div>
                          <div class="col-md-12" style="margin-top: 15px; display: none;" id="divbtnReceiveStock">
                              <button type="button" id="btnReceiveStock" style="font-weight:bold" name="btnReceiveStock" class="btn btn-block btn-success active" aria-pressed="true">RECEIVE STOCK</button>
                          </div>
                          <div class="col-md-12" style="margin-top: 15px; display: none;" id="divbtnCancelOrder">
                              <button type="button" id="btnCancelOrder" style="font-weight:bold" name="btnCancelOrder" class="btn btn-block btn-danger active" aria-pressed="true">CANCEL ORDER</button>
                          </div>
                          <div class="col-md-12" style="margin-top: 15px; display: none;" id="divbtnCloseOrder">
                              <button type="button" id="btnCloseOrder" style="font-weight:bold" name="btnCloseOrder" class="btn btn-block btn-primary active" aria-pressed="true">CLOSE</button>
                          </div>
                          <div class="col-md-12" style="margin-top: 15px; display: none;" id="divbtnConfirmReceive">
                              <button type="button" id="btnConfirmReceive" style="font-weight:bold" name="btnConfirmReceive" class="btn btn-block btn-primary active" aria-pressed="true">CONFIRM</button>
                          </div>
                      </div>
                  </div>
              </div>

              <div class="col-md-12 box-mobile" style="height: -webkit-fill-available;">
                  <div class="col-md-9">
                      <div class="card">
                          <div class="card-body" id="addOrderDetail">
                              <div class="col-md-12 table-responsive" id="divTableData">
                                  <table class="table table-hover" id="tableAddProduct">
                                      <thead>
                                          <tr>
                                              <th style="text-align:left">PRODUCT</th>
                                              <th style="text-align:left">ORDER QTY.</th>
                                              <th style="text-align:left">SUPPLY PRICE</th>
                                              <th style="text-align:left">TOTAL COST</th>
                                              <th></th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          <tr *ngFor="let i of items">
                                            <td>{{i.name_product}}</td>
                                            <td><input type="number" name="qty" [(ngModel)]="i.quantity"></td>
                                            <td><input type="number" name="price" [(ngModel)]="i.supplyprice_product"></td>
                                            <td>{{i.quantity * i.supplyprice_product || 0}}</td>
                                            <td><button (click)="deleteProd(i)">x</button></td>
                                          </tr>
                                      </tbody>
                                  </table>
                              </div>
                              <div class="col-md-12" style="margin-top:20px" (click)="openProduct(category)">
                                  <div>
                                      <button type="button" class="btn btn-block btn-outline-primary" id="btnAddProduct" ><i class="fa fa-plus"></i> Add Product</button>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="col-md-3">
                      <div class="col-md-12" style="padding:10px 10px 10px 10px; border:1px solid #c2cfd6">
                          <div class="col-md-12" >
                            <h5 id="SupplierName">{{ _supplier.name_supplier }}</h5>
                            <hr>
                          </div>
                          <div class="col-md-12">
                              <h5>DELIVER TO</h5>
                          </div>
                          <div class="col-md-12">
                              <h6 id="LocationName">{{ _supplier.suburb_supplier}}</h6>
                          </div>
                          <div class="col-md-12">
                              <h6 id="StreetAddress">Default Address</h6>
                          </div>
                          <div class="col-md-12">
                              <h6 id="LCity">Default City</h6>
                              <hr>
                          </div>
                          <div class="col-md-12" style="display: -webkit-inline-box;">
                              <div class="col-md-5" style="display: inline;padding-left: 0;">Order Total:</div>
                              <input type="hidden" id="OrderID" value="0">
                              <div class="col-md-7"><h5 id="TotalAmount">$0.00</h5></div>
                          </div>
                          <div class="col-md-12" style="margin-top:15px" id="divbtnCreateOrder">
                              <button type="button" id="btnCreateOrder" style="font-weight:bold" name="btnCreateOrder" class="btn btn-block btn-primary active" aria-pressed="true" (click)="create_oder()">CREATE ORDER</button>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
        </div>

</ng-template>
<ng-template #category let-modal>
    <div class="modal-header">
      <h4 class="modal-title offset-sm-4" id="modal-basic-title">Select Product</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="col-12 p-4 search-modal-wizard">
          <div class="input-group-prepend">
              <span class="input-group-text">
                  <i class="fa fa-search"></i>
              </span>
              <input type="text" id="txtSearch" class="form-control" placeholder="Scan barcode or search any item" value="">
          </div>
      </div>
      <div class="col-12" id="divCategory" style="">
        <div class="col-12 item-modal-wizard" step="1" categoryname="No Category" id-item-modal="0">
          <div class="row" *ngFor="let category of listcategories" (click)="openProduct1(product1, category)">
            <div class="col-6">
              <div class="col-12">
                <strong>{{ category.name_category }}</strong>
              </div>
            </div>
            <div class="col-6 text-right">
              <span><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.187 16.9c-.25.253-.25.66 0 .91.248.253.652.253.9 0l7.285-7.355c.25-.25.25-.66 0-.91L7.088 2.19c-.25-.253-.652-.253-.9 0-.25.25-.25.658-.002.91L12.83 10l-6.643 6.9z"></path>
              </svg></span>
            </div>
            <hr  width="100%" align="center" />
          </div>
          <div class="row">
            <div class="col-6">
              <div class="col-12">
                <strong (click)="openModalNoCategory(no_category)">No Category</strong>
              </div>
            </div>
            <div class="col-6 text-right">
              <span><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.187 16.9c-.25.253-.25.66 0 .91.248.253.652.253.9 0l7.285-7.355c.25-.25.25-.66 0-.91L7.088 2.19c-.25-.253-.652-.253-.9 0-.25.25-.25.658-.002.91L12.83 10l-6.643 6.9z"></path>
              </svg></span>
            </div>
          </div>
        </div>
        <!-- <div class="col-12 item-modal-wizard" step="1" categoryname="No Category" id-item-modal="0" *ngIf="listpro != 0">
            <div class="col-12 item-modal-wizard" step="1" categoryname="No Category" id-item-modal="0">
                <div class="row" >
                  <div class="col-6">
                    <div class="col-12" (click)="selectedX(prodss)">
                      <strong>{{ prodss.name_product }}</strong><br>
                      <span class="text-muted">({{ prodss.initialstock_product }} in stock)</span>
                    </div>
                  </div>
                  <div class="col-6 text-right">
                    <span><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                      <path d="M6.187 16.9c-.25.253-.25.66 0 .91.248.253.652.253.9 0l7.285-7.355c.25-.25.25-.66 0-.91L7.088 2.19c-.25-.253-.652-.253-.9 0-.25.25-.25.658-.002.91L12.83 10l-6.643 6.9z"></path>
                    </svg></span>
                  </div>
                 <hr  width="100%" align="center" />
                </div>
              </div>
        </div> -->
      </div>
    </div>

</ng-template>
<ng-template #product1 let-modal>
    <div class="modal-header">
        <span class="prevModalWizard">
          <i class="fa fa-chevron-left" (click)="openProduct(category)"></i>
        </span>
        <h4 class="modal-title offset-sm-4" id="modal-basic-title">{{ _category.name_category }}</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="col-12 p-4 search-modal-wizard">
            <div class="input-group-prepend">
                <span class="input-group-text">
                    <i class="fa fa-search"></i>
                </span>
                <input type="text" id="txtSearch" class="form-control" placeholder="Scan barcode or search any item">
            </div>
        </div>
        <div class="col-12" id="divCategory" style="" *ngFor="let prodss of _listproducts">
          <div class="col-12 item-modal-wizard" step="1" categoryname="No Category" id-item-modal="0">
            <div class="row" >
              <div class="col-6">
                <div class="col-12" (click)="selectedX(prodss)">
                  <strong>{{ prodss.name_product }}</strong><br>
                  <span class="text-muted">({{ prodss.initialstock_product }} in stock)</span>
                </div>
              </div>
              <div class="col-6 text-right">
                <span><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6.187 16.9c-.25.253-.25.66 0 .91.248.253.652.253.9 0l7.285-7.355c.25-.25.25-.66 0-.91L7.088 2.19c-.25-.253-.652-.253-.9 0-.25.25-.25.658-.002.91L12.83 10l-6.643 6.9z"></path>
                </svg></span>
              </div>
              <!-- <hr  width="100%" align="center" /> -->
            </div>
          </div>
        </div>
      </div>
</ng-template>
<ng-template #no_category let-modal>
    <div class="modal-header">
        <span class="prevModalWizard">
          <i class="fa fa-chevron-left" (click)="modal.dismiss('Cross click')"></i>
        </span>
        <h4 class="modal-title offset-sm-4" id="modal-basic-title">No Category</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="col-12 p-4 search-modal-wizard">
            <div class="input-group-prepend">
                <span class="input-group-text">
                    <i class="fa fa-search"></i>
                </span>
                <input type="text" id="txtSearch" class="form-control" placeholder="Scan barcode or search any item">
            </div>
        </div>
        <div class="col-12" id="divCategory" style="" *ngFor="let prodss of _listproducts">
          <div class="col-12 item-modal-wizard" step="1" categoryname="No Category" id-item-modal="0">
            <div class="row" >
              <div class="col-6">
                <div class="col-12" (click)="selectedX(prodss)">
                  <strong>{{ prodss.name_product }}</strong><br>
                  <span class="text-muted">({{ prodss.initialstock_product }} in stock)</span>
                </div>
              </div>
              <div class="col-6 text-right">
                <span><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6.187 16.9c-.25.253-.25.66 0 .91.248.253.652.253.9 0l7.285-7.355c.25-.25.25-.66 0-.91L7.088 2.19c-.25-.253-.652-.253-.9 0-.25.25-.25.658-.002.91L12.83 10l-6.643 6.9z"></path>
                </svg></span>
              </div>
              <hr  width="100%" align="center" />
            </div>
          </div>
        </div>
      </div>
</ng-template>
<ng-template #edit_order let-modal>
<div class="box-desktop">
  <div class="modal-header" >
      <h4 class="modal-title offset-sm-4" id="modal-basic-title" *ngIf=" _order.status_order != 2">Order P{{ _order.id }}</h4>
      <h4 class="modal-title offset-sm-4" id="modal-basic-title" *ngIf=" _order.status_order == 2">Receive Order P{{ _order.id }}</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="card">
        <div class="card-body">
          <div class="col-md-12">
            <div class="row">
            <div class="col-md-9">
              <div style="text-align:center;" *ngIf="_order.status_order == 1"><i class="IhToKE LqKsYE _10B3mn" style="margin-left:-120px;" >
                  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve">
                    <g id="Frame_-_24px">
                      <rect style="fill:none;" width="24" height="24"></rect>
                    </g>
                    <g id="Line_Icons">
                      <g>
                        <path style="fill:#767676;" d="M2,8h16v4h2V7c0-0.007-0.004-0.012-0.004-0.018c-0.002-0.117-0.026-0.23-0.068-0.339 c-0.011-0.028-0.025-0.053-0.039-0.08c-0.019-0.038-0.031-0.08-0.057-0.117l-4-6C15.646,0.167,15.334,0,15,0H5 C4.666,0,4.354,0.167,4.168,0.445l-4,6C0.143,6.482,0.13,6.524,0.111,6.563C0.098,6.59,0.083,6.615,0.072,6.643 C0.03,6.752,0.006,6.865,0.004,6.982C0.004,6.988,0,6.993,0,7v12c0,0.552,0.447,1,1,1h7v-2H2V8z M17.131,6H11V2h3.465L17.131,6z M5.535,2H9v4H2.869L5.535,2z"></path>
                        <path style="fill:#767676;" d="M23.707,18.293l-2-2C21.52,16.106,21.266,16,21,16h-1v-1c0-0.552-0.447-1-1-1h-8 c-0.553,0-1,0.448-1,1v7c0,0.552,0.447,1,1,1h1.277c0.347,0.595,0.984,1,1.723,1s1.376-0.405,1.723-1h2.555 c0.347,0.595,0.984,1,1.723,1s1.376-0.405,1.723-1H23c0.553,0,1-0.448,1-1v-3C24,18.735,23.895,18.48,23.707,18.293z M12,16h6v5 h-2.277c-0.346-0.596-0.984-1-1.723-1s-1.377,0.404-1.723,1H12V16z M22,21h-0.277c-0.346-0.596-0.984-1-1.723-1v-2h0.586 L22,19.414V21z"></path>
                      </g>
                    </g>
                  </svg>
                </i>
                <span style="line-height: 1.143;font-size: 22px;font-weight: 400;">Stock Ordered</span><br>
                <span>Ordered {{ _order.created_at }} at has by Order P{{ _order.id }}</span>
              </div>
              <div style="text-align:center;" *ngIf="_order.status_order == 3">
                <i class="IhToKE LqKsYE _2YR97g"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"><g id="Frame_-_24px"><rect style="fill:none;" width="24" height="24"></rect></g><g id="Line_Icons"><g><path style="fill:#767676;" d="M2,8h16v7h2V7c0-0.007-0.003-0.012-0.004-0.018c-0.002-0.117-0.026-0.23-0.068-0.339 c-0.011-0.028-0.025-0.053-0.038-0.08c-0.02-0.038-0.032-0.08-0.058-0.117l-4-6C15.646,0.167,15.335,0,15,0H5 C4.666,0,4.354,0.167,4.168,0.445l-4,6C0.144,6.482,0.13,6.524,0.111,6.563C0.098,6.59,0.083,6.615,0.072,6.643 C0.03,6.752,0.006,6.865,0.004,6.982C0.004,6.988,0,6.993,0,7v12c0,0.552,0.448,1,1,1h12v-2H2V8z M17.132,6H11V2h3.465L17.132,6z M5.535,2H9v4H2.869L5.535,2z"></path><polygon style="fill:#767676;" points="22.293,16.287 18,20.58 15.707,18.287 14.293,19.701 18,23.408 23.707,17.701 "></polygon></g></g></svg></i>
                <span style="line-height: 1.143;font-size: 22px;font-weight: 400;">Stock REceived</span><br>
                <span>Received {{ _order.updated_at }} at has by Order P{{ _order.id }}</span>
              </div>
              <div class="col-md-12" style="text-align:center;" >

              </div>
              <div class=" row col-md-12" style="margin-top:15px;max-width: 500px;margin-left: 160px;">
                <div class="col-md-6" style=" align-items: flex-end;justify-content: flex-end;"  *ngIf=" _order.status_order == 1">
                  <button type="button" class="btn btn-block btn-outline-secondary" style="font-weight:bold;" (click)="send_email_order(_order.email_supplier)">EMAIL ORDER</button>
                </div>
                <div [ngClass]="_order.status_order == 3 ? 'col-sm-12' : 'col-sm-6'" style=" align-items: flex-start;justify-content: flex-start;"  *ngIf=" _order.status_order != 2">
                  <button type="button" class="btn btn-block btn-outline-secondary" style="font-weight:bold;" (click)="export_pdf_data(_order.id)">DOWNLOAD PDF</button>
                </div>
              </div>
              <div class="col-md-12" style="margin-top:20px;">
                <table class="table table-responsive-sm table-sm no-footer" style="width:100%;">
                  <thead>
                    <tr>
                      <th style="text-align:left">PRODUCT</th>
                      <th style="text-align:left">ORDER QTY.</th>
                      <th style="text-align:left;" *ngIf=" _order.status_order != 1">RECEIVED QTY.</th>
                      <th style="text-align:left">SUPPLY PRICE</th>
                      <th style="text-align:left">TOTAL COST</th>
                    </tr>
                  </thead>
                  <tbody>
                    <ng-container *ngIf="_order.status_order == 2; else statuson">
                        <tr *ngFor="let i of _listorder1">
                            <td>{{getNameproduct(i.id_product)}}</td>
                            <td>{{ i.qty_product }}</td>
                            <td><input type="number" name="qty_re" [(ngModel)]="i.qty_product_receive" (input)="sumEdit()" value="{{i.qty_product}}"></td>
                            <td><input type="number" name="price" [(ngModel)]="i.price_product" (input)="sumEdit()"></td>
                            <td>{{i.qty_product_receive * i.price_product || i.qty_product * i.price_product }}</td>
                          </tr>
                    </ng-container>
                    <ng-template #statuson>
                        <tr *ngFor="let ad of _listorder1">
                            <td style="width:30%">{{getNameproduct(ad.id_product)}}</td>
                            <td style=" text-align:center;">{{ ad.qty_product }}</td>
                            <td style=" text-align:center;" *ngIf=" _order.status_order != 1">{{ ad.qty_product_receive }}</td>
                            <td style="text-align:center">${{ ad.price_product }}</td>
                            <td style=" text-align: right" *ngIf=" _order.status_order != 1">${{ ad.qty_product_receive * ad.price_product || 0.00}}</td>
                            <td style=" text-align: right" *ngIf=" _order.status_order == 1">${{ ad.qty_product * ad.price_product }}</td>
                          </tr>
                    </ng-template>

                  </tbody>
                </table>
              </div>
            </div>

            <div class="col-md-3">
              <div class="col-md-12" style="padding: 10px 10px 10px 10px; border:1px solid #c2cfd6;display: inline-table;">
                  <div class="col-md-12">
                      <h5 id="SupplierName" style="font-size:1.7rem;">{{ getnamecountry(_order.countryid_supplier) }}</h5>
                      <hr>
                  </div>
                  <!-- <hr style="margin-top: 30px;"> -->
                  <div class="col-md-12">
                      <h5 style="    font-size: 14px;text-transform: uppercase;font-weight: 700;line-height: 14px;color: #24334A;">DELIVER TO</h5>
                  </div>
                  <div class="col-md-12">
                      <h6 id="LocationName" style="color:#67768C;font-size:small">has</h6>
                  </div>
                  <div class="col-md-12">
                      <h6 id="StreetAddress" style="color:#67768C;font-size:small">Default Address</h6>
                  </div>
                  <div class="col-md-12">
                      <h6 id="LCity" style="color:#67768C;font-size:small">Default City</h6>
                      <hr>
                  </div>
                  <div class="col-md-12" style="display: -webkit-inline-box;">
                      <div class="col-md-5" style="display: inline;padding-left: 0;">Order Total:</div>
                      <input type="hidden" id="OrderID" value="0">
                      <div class="col-md-7"><h5 style="text-align:right" >${{ _order.total_price1 }}</h5></div>
                  </div>
                  <div class="col-md-12" style="margin-top: 15px;" id="divbtnReceiveStock">
                      <button type="button" id="btnReceiveStock" style="font-weight:bold" name="btnReceiveStock" class="btn btn-block btn-success active" aria-pressed="true" *ngIf=" _order.status_order == 1" (click)="status_order(_order.id,2)">RECEIVE STOCK </button>
                  </div>
                  <div class="col-md-12" style="margin-top: 15px;" id="divbtnCancelOrder">
                      <button type="button" id="btnCancelOrder" style="font-weight:bold" name="btnCancelOrder" class="btn btn-block btn-danger active" aria-pressed="true"  *ngIf=" _order.status_order == 1" (click)="openModal(cancel)">CANCEL ORDER</button>

                  </div>
                  <div class="col-md-12" style="margin-top: 15px;" id="divbtnCloseOrder">
                      <button type="button" id="btnCloseOrder" style="font-weight:bold" name="btnCloseOrder" class="btn btn-block btn-primary active" aria-pressed="true" *ngIf="_order.status_order == 3 || _order.status_order == 0" (click)="modal.dismiss(content)">CLOSE</button>
                  </div>
                  <div class="col-md-12" style="margin-top: 15px;" id="divbtnConfirmReceive">
                      <button type="button" id="btnConfirmReceive" style="font-weight:bold" name="btnConfirmReceive" class="btn btn-block btn-primary active" aria-pressed="true" *ngIf=" _order.status_order == 2" (click)="status_order(_order.id,3)">CONFIRM</button>
                  </div>
              </div>
            </div>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<!-- mobile -->
<div  class="box-mobile">
    <div class="modal-header" >
        <h4  class="modal-title offset-sm-4" id="modal-basic-title">Order {{ _order.id }}</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true" style="margin-top: 20px;margin-right: 15px;">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="card">
          <div class="card-body">
            <div class="col-md-12">
              <div class="row">
              <div class="col-md-9">
                <div class="">
                  <span>
                    <i class="fas fa-shipping-fast"></i>
                  </span>
                </div>
                <h2 style="text-align:center;"><i class="fas fa-shipping-fast"></i>Stock Ordered</h2>
                <div class="col-md-12" style="text-align:center;" >
                  <span>Ordered {{ _order.update_at }} at has by Order {{ _order.id }}</span>
                </div>
                <div class="col-md-12" style="margin-top:15px;">
                  <div class="col-md-6 col-sm-12 mb-2" style=" align-items: flex-end;justify-content: flex-end;">
                    <button type="button" class="btn btn-block btn-outline-secondary col-sm-12" style=" font-weight:bold;float: right;">EMAIL ORDER</button>
                  </div>
                  <div class="col-md-6 col-sm-12 mb-2" style=" align-items: flex-start;justify-content: flex-start;">
                    <button type="button" class="btn btn-block btn-outline-secondary col-sm-12" style="font-weight:bold;">DOWNLOAD PDF</button>
                  </div>
                </div>
                <div class="col-md-12" style="margin-top:20px;">
                  <table class="table table-responsive-sm table-sm no-footer" style="width:100%;">
                    <thead>
                      <tr>
                        <th style="text-align:left">PRODUCT</th>
                        <th style="text-align:left">ORDER QTY.</th>
                        <th style="text-align:left; display: none;">RECEIVED QTY.</th>
                        <th style="text-align:left">SUPPLY PRICE</th>
                        <th style="text-align:left">TOTAL COST</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let ad of _listorder1">
                        <td style="width:30%">aa</td>
                        <td style=" text-align:center;">{{ ad.qty_product }}</td>
                        <td style="text-align:center">${{ ad.price_product }}</td>
                        <td style=" text-align: right" >${{ ad.qty_product * ad.price_product }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <div class="col-md-3">
                <div class="col-md-12" style="padding: 10px 10px 10px 10px; border:1px solid #c2cfd6">
                    <div class="col-md-12" >
                        <h5 id="SupplierName">sadsadsad</h5>
                    </div>
                    <div class="col-md-12">
                        <h5 style="    color: aquamarine;">DELIVER TO</h5>
                    </div>
                    <div class="col-md-12">
                        <h6 id="LocationName" style="color:#67768C;font-size:small">has</h6>
                    </div>
                    <div class="col-md-12">
                        <h6 id="StreetAddress" style="color:#67768C;font-size:small">Default Address</h6>
                    </div>
                    <div class="col-md-12">
                        <h4 id="APT"></h4>
                    </div>
                    <div class="col-md-12">
                        <h6 id="LCity" style="color:#67768C;font-size:small">Default City</h6>
                    </div>
                    <div class="col-md-12">
                        <h4 id="LState"></h4>
                    </div>
                    <div class="col-md-12">
                        <h4 id="LZipCode"></h4>
                        <hr>
                    </div>
                    <div class="col-md-12" style="display: -webkit-inline-box;">
                        <div class="col-md-5" style="display: inline;padding-left: 0;">Order Total:</div>
                        <input type="hidden" id="OrderID" value="0">
                        <div class="col-md-7"><h5 >${{ _order.total_price }}</h5></div>
                    </div>
                    <div class="col-md-12" style="margin-top: 15px;" id="divbtnReceiveStock">
                        <button type="button" id="btnReceiveStock" style="font-weight:bold" name="btnReceiveStock" class="btn btn-block btn-success active" aria-pressed="true" (click)="receive_order()">RECEIVE STOCK</button>
                    </div>
                    <div class="col-md-12" style="margin-top: 15px;" id="divbtnCancelOrder">
                        <button type="button" id="btnCancelOrder" style="font-weight:bold" name="btnCancelOrder" class="btn btn-block btn-danger active" aria-pressed="true" (click)="cancel_order()">CANCEL ORDER</button>
                    </div>
                </div>
              </div>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>

</ng-template>
<ng-template #cancel let-modal>
    <div class="modal-header" [ngClass]="isCreate ? '' : 'sticky'">
      <h4 class="modal-title text-xs-center offset-sm-4" id="modal-basic-title" style="font-size: 24px;font-weight: 300;color: #24334A;">Cancel Order</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div style="font-size:16px;line-height: 22px;color: #67768C;">Are you sure you want to cancel this order? This action is permanent and cannot be undone.</div>
    </div>
    <div class="modal-footer" [ngClass]="isCreate ? '' : 'sticky'">
      <button *ngIf="!isCreate" type="button" class="btn btn-delete" (click)="status_order(_order.id,0)"> CANCEL ORDER</button>
    </div>
  </ng-template>
